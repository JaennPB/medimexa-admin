(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3700:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(3664)}])},8953:function(e,a){"use strict";a.Z={src:"/_next/static/media/logo.a3fc0e5d.png",height:140,width:858,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAYAAADjAO9DAAAAKklEQVR4nAVAsQ0AIAiDOHiTFzl5hFcrobTE9z1LIBWYSr6KcgOHZYkf1oIyF0trNUROAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:1}},1363:function(e,a,n){"use strict";var t=n(5893),l=n(7294),r=n(2920);let i=e=>{let{fields:a,onClick:n,confirm:i=!0,labels:s=!0,validations:u=!1}=e,o=(0,l.useRef)({});(()=>{let e=o.current;for(let n in a)e[a[n].name]=a[n].defaultValue||"";o.current=e})();let[c,d]=(0,l.useState)(o.current),[p,m]=(0,l.useState)(a),[f,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{d(o.current),m(a)},[a,o]);let g=e=>{d({...c,[e.target.name]:e.target.value})},b=(e,a)=>{if(e.required){let n=typeof c[e.name];"string"==n||"number"==n?""===c[e.name].toString().trim()?(e.noValid=!0,a=!0,e.noValidMessage="Es requerido"):e.noValid=!1:Object.keys(c[e.name]).length?e.noValid=!1:(a=!0,e.noValid=!0)}return{field:e,invalid:a}},y=(e,a)=>{if(u){let a=u[e.name]||!1;a&&!a.fn(c[e.name])&&(e.noValid=!0,e.noValidMessage=a.message)}return{field:e,invalid:a}},N=()=>{let e=!1,a=p.map(a=>{let n=b(a,e);return a=n.field,e=n.invalid,a=(n=y(a,e)).field,e=n.invalid,a});if(e)r.Am.error("Tienes algunos errores"),m(a);else{let e={};for(let a in c)""!==c[a]&&(e[a]=c[a]);h(!0),n(e,h)}},x=e=>e.readonly?" (No se puede editar)":e.required?"":" (opcional)",A=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e||a},w=(e,a,n)=>{let t=c[a.name]||{};""!=n.target.value.trim()&&(t[e]=n.target.value,d({...c,[a.name]:t}))},j=(e,a)=>{let n="";return e.defaultValue&&(n=e.defaultValue[a]||""),n};return(0,t.jsxs)(t.Fragment,{children:[p.map(e=>{let{name:a}=e,n=!1;e.readonly&&(n=!0);let l=e.type||"text";if(e.date&&(l="date"),e.number&&(l="number"),e.password&&(l="password"),null==c[e.name])return null;let r=(0,t.jsx)("input",{type:l,readOnly:n,min:A(e.min),placeholder:A(e.placeholder)+x(e),name:e.name,defaultValue:e.defaultValue||"",value:c[a],onChange:g,className:"input input-bordered input-primary w-full mb-6 "+e.className},"input"+e.name);return e.options&&(r=(0,t.jsxs)("select",{placeholder:A(e.placeholder)+x(e),name:e.name,defaultValue:e.defaultValue||"",value:c[a],onChange:g,className:"input input-bordered input-primary w-full mb-6 "+e.className,children:[(0,t.jsxs)("option",{children:[e.placeholder," (Elige una opcion)"]}),e.options]},"input"+e.name)),e.textarea&&(r=(0,t.jsx)("textarea",{rows:6,readOnly:n,placeholder:A(e.placeholder)+x(e),name:e.name,defaultValue:e.defaultValue||"",value:c[a],onChange:g,className:"input input-bordered input-primary w-full mb-6 "+e.className},"input"+e.name)),e.answers&&(r=(0,t.jsxs)("div",{className:"border-dashed border-2 border-gray-500 p-5",children:[(0,t.jsx)("input",{style:{marginBottom:12},defaultValue:j(e,"a"),type:"input",placeholder:"Opcion A",onChange:a=>w("a",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,t.jsx)("input",{style:{marginBottom:12},defaultValue:j(e,"b"),type:"input",placeholder:"Opcion B",onChange:a=>w("b",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,t.jsx)("input",{style:{marginBottom:12},defaultValue:j(e,"c"),type:"input",placeholder:"Opcion C",onChange:a=>w("c",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,t.jsx)("input",{style:{marginBottom:12},defaultValue:j(e,"d"),type:"input",placeholder:"Opcion D",onChange:a=>w("d",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,t.jsx)("input",{style:{marginBottom:12},defaultValue:j(e,"e"),type:"input",placeholder:"Opcion E",onChange:a=>w("e",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,t.jsx)("input",{style:{marginBottom:12},defaultValue:j(e,"f"),type:"input",placeholder:"Opcion F",onChange:a=>w("f",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name)]})),(0,t.jsxs)(t.Fragment,{children:[s&&(0,t.jsx)("span",{children:e.placeholder}),r,e.noValid&&(0,t.jsx)("small",{style:{color:"red"},children:e.noValidMessage},"small"+e.name)]})}),(0,t.jsx)("button",{className:"btn btn-primary btn-block",onClick:N,children:f?"Cargando...":"Guardar"})]})};a.Z=i},1398:function(e,a,n){"use strict";n.d(a,{Z:function(){return r}});var t=n(9332),l=n(7717);function r(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],a=(0,t.useRouter)(),n=(0,l.C)(e=>e.user);e?null==n.email&&a.push("/login"):n.email&&a.push("/mexaquiz")}},7804:function(e,a,n){"use strict";n.r(a);var t=n(5893);n(7294);var l=n(5675),r=n.n(l),i=n(9332),s=n(8953),u=n(9551),o=n(7717),c=n(8674),d=n(2920),p=n(1363);a.default=function(){let e=(0,i.useRouter)(),a=(0,o.T)();async function n(n,t){console.log(n);try{t(!0);let l=await u.Z.login(n.email,n.password);console.log(l),//! check if user is admin
a((0,c.cn)({token:l.user.accessToken,email:l.user.email,id:l.user.id})),e.push("/simuladores"),t(!1)}catch(e){console.log(e),t(!1),"auth/user-not-found"==e.code&&d.Am.error("Usuario no encontrado")}}return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"card w-96 bg-base-100 shadow-xl",children:[(0,t.jsx)("figure",{className:"px-10 pt-10",children:(0,t.jsx)(r(),{src:s.Z,alt:"logo",className:"rounded-xl w-[75%]"})}),(0,t.jsxs)("div",{className:"card-body items-center text-center",children:[(0,t.jsx)("h2",{className:"card-title mb-6",children:"Admin Login"}),(0,t.jsx)(p.Z,{labels:!1,fields:[{name:"email",placeholder:"Correo",required:!0},{name:"password",placeholder:"Password",type:"password",required:!0}],onClick:n})]})]})})}},3664:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return u}});var t=n(5893),l=n(183),r=n.n(l),i=n(7804),s=n(1398);function u(){return(0,s.Z)(!1),(0,t.jsx)("main",{className:"bg-base-200 h-screen flex justify-center items-center ".concat(r().className),children:(0,t.jsx)(i.default,{})})}},183:function(e){e.exports={style:{fontFamily:"'__Inter_0ec1f4', '__Inter_Fallback_0ec1f4'",fontStyle:"normal"},className:"__className_0ec1f4"}}},function(e){e.O(0,[675,774,888,179],function(){return e(e.s=3700)}),_N_E=e.O()}]);