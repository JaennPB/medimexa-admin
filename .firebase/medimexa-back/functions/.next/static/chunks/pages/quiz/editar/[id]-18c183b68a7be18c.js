(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[813],{8746:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quiz/editar/[id]",function(){return a(4019)}])},8953:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo.a3fc0e5d.png",height:140,width:858,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAYAAADjAO9DAAAAKklEQVR4nAVAsQ0AIAiDOHiTFzl5hFcrobTE9z1LIBWYSr6KcgOHZYkf1oIyF0trNUROAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:1}},3111:function(e,t,a){"use strict";var s=a(5893);a(7294),t.Z=function(e){let{children:t}=e;return(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)("div",{style:{minHeight:"100v"},className:"card bg-base-100 shadow-xl h-full ",children:(0,s.jsx)("div",{className:"card-body p-4",children:t})})})}},6395:function(e,t,a){"use strict";var s=a(5893);a(7294);var n=a(1664),r=a.n(n);t.Z=function(e){let{children:t}=e;return(0,s.jsxs)("div",{className:"drawer",children:[(0,s.jsx)("input",{id:"my-drawer",type:"checkbox",className:"drawer-toggle"}),(0,s.jsx)("div",{className:"drawer-content",children:t}),(0,s.jsxs)("div",{className:"drawer-side",children:[(0,s.jsx)("label",{htmlFor:"my-drawer",className:"drawer-overlay"}),(0,s.jsxs)("ul",{className:"menu menu-normal p-4 w-96 bg-base-200 text-base-content",children:[(0,s.jsx)("li",{className:"menu-title mt-5 mb-10",children:(0,s.jsx)("span",{children:"Men\xfa Administrador"})}),(0,s.jsx)("li",{children:(0,s.jsx)(r(),{href:"/usuarios",children:"Usuarios"})}),(0,s.jsx)("div",{className:"divider mt-1 mb-1"}),(0,s.jsx)("li",{children:(0,s.jsx)(r(),{href:"/simuladores",children:"Simuladores ENARM"})}),(0,s.jsx)("div",{className:"divider mt-1 mb-1"}),(0,s.jsx)("li",{children:(0,s.jsx)(r(),{href:"/mexaquiz",children:"Mexaquiz"})}),(0,s.jsx)("div",{className:"divider mt-1 mb-1"}),(0,s.jsx)("li",{children:(0,s.jsx)(r(),{href:"/categorias",children:"Categorias"})}),(0,s.jsx)("div",{className:"divider mt-1 mb-1"}),(0,s.jsx)("li",{children:(0,s.jsx)(r(),{href:"/flashcards",children:"Flashcards"})})]})]})]})}},9111:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var s=a(5893),n=a(5675),r=a.n(n);a(7294);var l=a(8953),i={src:"/_next/static/media/avatar.82b5caa2.jpeg",height:400,width:400,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABAEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAAJQLf//EAB8QAAEDAwUAAAAAAAAAAAAAAAECAxIABAYTFCJCUf/aAAgBAQABPwA5C6u+0HAvblJ5T87Rr//EABcRAAMBAAAAAAAAAAAAAAAAAAACEmL/2gAIAQIBAT8AvKn/xAAXEQEAAwAAAAAAAAAAAAAAAAABAAJi/9oACAEDAQE/AGumf//Z",blurWidth:8,blurHeight:8},d=a(9332),c=a(9551),o=a(7717),u=a(8674),h=function(e){let{isBuilder:t,noLeftItem:a}=e,n=(0,d.useRouter)(),h=(0,o.T)(),m=()=>{c.Z.signOut(),h((0,u.w7)()),n.push("/login")};return(0,s.jsxs)("div",{className:"navbar bg-base-100 h-[7vh]",children:[(0,s.jsxs)("div",{className:"navbar-start",children:[!t&&(0,s.jsx)("label",{tabIndex:0,className:"btn btn-ghost btn-circle",htmlFor:"my-drawer",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h7"})})}),t&&!a&&(0,s.jsxs)("div",{className:"flex flex-row items-center gap-3 ml-3",children:[(0,s.jsx)("p",{children:"242"}),(0,s.jsx)("progress",{className:"progress progress-success w-56",value:"242",max:"280"}),(0,s.jsx)("p",{children:"280"})]}),t&&a&&(0,s.jsx)("div",{className:"flex flex-row items-center gap-3 ml-3",children:"Preguntas creadas: 12"})]}),(0,s.jsx)("div",{className:"navbar-center",children:(0,s.jsx)(r(),{src:l.Z,alt:"logo",className:"w-44"})}),(0,s.jsxs)("div",{className:"navbar-end",children:[!t&&(0,s.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,s.jsx)("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:(0,s.jsx)("div",{className:"w-10 rounded-full",children:(0,s.jsx)(r(),{src:i,alt:"avatar",className:"w-32"})})}),(0,s.jsxs)("ul",{tabIndex:0,className:"menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{children:"Ajustes"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{onClick:m,children:"Cerrar sesi\xf3n"})})]})]}),t&&(0,s.jsx)("label",{className:"btn btn-warning mr-3",htmlFor:"my-modal-4",children:"Guardar y salir"})]})]})}},1363:function(e,t,a){"use strict";var s=a(5893),n=a(7294),r=a(2920);let l=e=>{let{fields:t,onClick:a,confirm:l=!0,labels:i=!0,validations:d=!1}=e,c=(0,n.useRef)({});(()=>{let e=c.current;for(let a in t)e[t[a].name]=t[a].defaultValue||"";c.current=e})();let[o,u]=(0,n.useState)(c.current),[h,m]=(0,n.useState)(t),[A,p]=(0,n.useState)(!1);(0,n.useEffect)(()=>{u(c.current),m(t)},[t,c]);let f=e=>{u({...o,[e.target.name]:e.target.value})},x=(e,t)=>{if(e.required){let a=typeof o[e.name];"string"==a||"number"==a?""===o[e.name].toString().trim()?(e.noValid=!0,t=!0,e.noValidMessage="Es requerido"):e.noValid=!1:Object.keys(o[e.name]).length?e.noValid=!1:(t=!0,e.noValid=!0)}return{field:e,invalid:t}},b=(e,t)=>{if(d){let t=d[e.name]||!1;t&&!t.fn(o[e.name])&&(e.noValid=!0,e.noValidMessage=t.message)}return{field:e,invalid:t}},g=()=>{let e=!1,t=h.map(t=>{let a=x(t,e);return t=a.field,e=a.invalid,t=(a=b(t,e)).field,e=a.invalid,t});if(e)r.Am.error("Tienes algunos errores"),m(t);else{let e={};for(let t in o)""!==o[t]&&(e[t]=o[t]);p(!0),a(e,p)}},v=e=>e.readonly?" (No se puede editar)":e.required?"":" (opcional)",j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e||t},w=(e,t,a)=>{let s=o[t.name]||{};""!=a.target.value.trim()&&(s[e]=a.target.value,u({...o,[t.name]:s}))},N=(e,t)=>{let a="";return e.defaultValue&&(a=e.defaultValue[t]||""),a};return(0,s.jsxs)(s.Fragment,{children:[h.map(e=>{let{name:t}=e,a=!1;e.readonly&&(a=!0);let n=e.type||"text";if(e.date&&(n="date"),e.number&&(n="number"),e.password&&(n="password"),null==o[e.name])return null;let r=(0,s.jsx)("input",{type:n,readOnly:a,min:j(e.min),placeholder:j(e.placeholder)+v(e),name:e.name,defaultValue:e.defaultValue||"",value:o[t],onChange:f,className:"input input-bordered input-primary w-full mb-6 "+e.className},"input"+e.name);return e.options&&(r=(0,s.jsxs)("select",{placeholder:j(e.placeholder)+v(e),name:e.name,defaultValue:e.defaultValue||"",value:o[t],onChange:f,className:"input input-bordered input-primary w-full mb-6 "+e.className,children:[(0,s.jsxs)("option",{children:[e.placeholder," (Elige una opcion)"]}),e.options]},"input"+e.name)),e.textarea&&(r=(0,s.jsx)("textarea",{rows:6,readOnly:a,placeholder:j(e.placeholder)+v(e),name:e.name,defaultValue:e.defaultValue||"",value:o[t],onChange:f,className:"input input-bordered input-primary w-full mb-6 "+e.className},"input"+e.name)),e.answers&&(r=(0,s.jsxs)("div",{className:"border-dashed border-2 border-gray-500 p-5",children:[(0,s.jsx)("input",{style:{marginBottom:12},defaultValue:N(e,"a"),type:"input",placeholder:"Opcion A",onChange:t=>w("a",e,t),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,s.jsx)("input",{style:{marginBottom:12},defaultValue:N(e,"b"),type:"input",placeholder:"Opcion B",onChange:t=>w("b",e,t),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,s.jsx)("input",{style:{marginBottom:12},defaultValue:N(e,"c"),type:"input",placeholder:"Opcion C",onChange:t=>w("c",e,t),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,s.jsx)("input",{style:{marginBottom:12},defaultValue:N(e,"d"),type:"input",placeholder:"Opcion D",onChange:t=>w("d",e,t),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,s.jsx)("input",{style:{marginBottom:12},defaultValue:N(e,"e"),type:"input",placeholder:"Opcion E",onChange:t=>w("e",e,t),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,s.jsx)("input",{style:{marginBottom:12},defaultValue:N(e,"f"),type:"input",placeholder:"Opcion F",onChange:t=>w("f",e,t),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name)]})),(0,s.jsxs)(s.Fragment,{children:[i&&(0,s.jsx)("span",{children:e.placeholder}),r,e.noValid&&(0,s.jsx)("small",{style:{color:"red"},children:e.noValidMessage},"small"+e.name)]})}),(0,s.jsx)("button",{className:"btn btn-primary btn-block",onClick:g,children:A?"Cargando...":"Guardar"})]})};t.Z=l},549:function(e,t,a){"use strict";a.d(t,{U:function(){return i}});var s=a(723),n=a(8010);class r extends s.Z{constructor(e){super("categories",e)}}class l extends n.Z{constructor(){super("categories",r)}}let i=new l;t.Z=r},316:function(e,t,a){"use strict";a.d(t,{b:function(){return i}});var s=a(723),n=a(8010);class r extends s.Z{constructor(e){super("quizes",e)}}class l extends n.Z{constructor(){super("quizes",r)}}let i=new l;t.Z=r},1735:function(e,t,a){"use strict";a.d(t,{l:function(){return i}});var s=a(723),n=a(8010);class r extends s.Z{constructor(e){super("quiz_types",e)}}class l extends n.Z{constructor(){super("quiz_types",r)}}let i=new l;t.Z=r},723:function(e,t,a){"use strict";var s=a(6100),n=a(6983);t.Z=class{constructor(e,t,a={}){this.save=async()=>{if(void 0!=this._save)try{await this._save()}catch(e){}return(0,s.ET)((0,s.hJ)(n.ZP,this.table),{...this.data,created_at:Date.now(),updated_at:Date.now(),deleted_at:null}).then(e=>{this.old=e,this.data.id=e.id})},this.update=async()=>{if(void 0!=this._update)try{await this._update()}catch(e){}return(0,s.r7)((0,s.JU)(n.ZP,this.table,this.data.id),{...this.data,updated_at:Date.now()})},this.delete=async()=>{if(void 0!=this._delete)try{await this._delete()}catch(e){}this.data.deleted_at=Date.now(),this.update()},this.table=e,this.data=t,this.old=t,a._save&&(this._save=a._save),a._update&&(this._update=a._update),a._delete&&(this._delete=a._delete)}}},8010:function(e,t,a){"use strict";var s=a(6100),n=a(6983);(0,s.IO)((0,s.hJ)(n.ZP,"cities"),(0,s.ar)("capital","==",!0)),t.Z=class{constructor(e,t){var a=this;this.find=e=>(0,s.QT)((0,s.JU)(n.ZP,this.table,e)).then(e=>{let t=e.data();if(t&&null==(t={id:e.id,...e.data()}).deleted_at)return new this.model(t);throw"No se encontro el usuario"}),this.all=()=>(0,s.PL)((0,s.hJ)(n.ZP,this.table)).then(e=>e.docs.filter(this.filterDoc).map(this.mapDoc)),this.where=(e,t,a)=>{let r=(0,s.hJ)(n.ZP,this.table),l=(0,s.IO)(r,(0,s.ar)(e,t,a));return(0,s.PL)(l).then(e=>e.docs.filter(this.filterDoc).map(this.mapDoc))},this.whereRaw=e=>{let t=(0,s.hJ)(n.ZP,this.table),a=(0,s.IO)(t,...e);return(0,s.PL)(a).then(e=>e.docs.filter(this.filterDoc).map(this.mapDoc))},this.subscribe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t||(t=()=>{}),(0,s.cf)((0,s.hJ)(n.ZP,a.table),t=>{e(t.docs.filter(a.filterDoc).map(a.mapDoc))},e=>{t(Error),console.log(e)})},this.filterDoc=e=>null==e.data().deleted_at,this.mapDoc=e=>new this.model({...e.data(),id:e.id}),this.toArray=e=>e.map(e=>e.data),this.first=e=>e[0]||!1,this.table=e,this.model=t}}},4019:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(5893),n=a(2579),r=a.n(n),l=a(7294),i=a(3111),d=a(6395),c=a(9111),o=a(316),u=a(549),h=a(1735),m=a(1363),A=a(2920),p=a(9551),f=a(1163);function x(){let e=(0,f.useRouter)(),t=e.query.id,[a,n]=(0,l.useState)({}),[x,b]=(0,l.useState)({}),[g,v]=(0,l.useState)([]);(0,l.useEffect)(()=>{t&&o.b.find(t).then(o.b.first).then(b)},[t]),(0,l.useEffect)(()=>{h.l.where("name","==","mexaquiz").then(h.l.first).then(n),u.U.all().then(u.U.toArray).then(v)},[]);let[j,w]=(0,l.useState)([]);(0,l.useEffect)(()=>{var e,t,a;console.log(x),w([{name:"name",placeholder:"nombre",required:!0,defaultValue:null===(e=x.data)||void 0===e?void 0:e.name},{name:"body",placeholder:"Descripcion larga",required:!0,textarea:!0,defaultValue:null===(t=x.data)||void 0===t?void 0:t.body},{name:"category_id",placeholder:"rol",required:!0,options:g.map((e,t)=>(0,s.jsx)("option",{value:e.id,children:e.name},t)),defaultValue:null===(a=x.data)||void 0===a?void 0:a.category_id}])},[x,g]);let N=(t,s)=>{p.Z.onAuth(n=>{if(n){t.created_by=n.uid,t.type_id=a.data.id;let r=new o.Z(t);r.save().then(()=>{s(!1),A.Am.success("Usuario creado correctamente"),e.push("/mexaquiz")})}})};return(0,s.jsx)("main",{className:"bg-base-200 h-screen w-screen ".concat(r().className),children:(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(c.Z,{}),(0,s.jsxs)(i.Z,{children:[(0,s.jsx)("h1",{children:"Nuevo Quiz "}),(0,s.jsx)(m.Z,{fields:j,onClick:N})]})]})})}},2579:function(e){e.exports={style:{fontFamily:"'__Inter_0ec1f4', '__Inter_Fallback_0ec1f4'",fontStyle:"normal"},className:"__className_0ec1f4"}},1163:function(e,t,a){e.exports=a(6885)}},function(e){e.O(0,[675,664,774,888,179],function(){return e(e.s=8746)}),_N_E=e.O()}]);