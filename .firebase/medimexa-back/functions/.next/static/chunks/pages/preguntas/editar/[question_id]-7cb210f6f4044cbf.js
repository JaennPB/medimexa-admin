(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[320],{6207:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/preguntas/editar/[question_id]",function(){return t(2714)}])},8953:function(e,a){"use strict";a.Z={src:"/_next/static/media/logo.a3fc0e5d.png",height:140,width:858,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAYAAADjAO9DAAAAKklEQVR4nAVAsQ0AIAiDOHiTFzl5hFcrobTE9z1LIBWYSr6KcgOHZYkf1oIyF0trNUROAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:1}},3111:function(e,a,t){"use strict";var s=t(5893);t(7294),a.Z=function(e){let{children:a}=e;return(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)("div",{style:{minHeight:"100v"},className:"card bg-base-100 shadow-xl h-full ",children:(0,s.jsx)("div",{className:"card-body p-4",children:a})})})}},6395:function(e,a,t){"use strict";var s=t(5893);t(7294);var n=t(1664),l=t.n(n);a.Z=function(e){let{children:a}=e;return(0,s.jsxs)("div",{className:"drawer",children:[(0,s.jsx)("input",{id:"my-drawer",type:"checkbox",className:"drawer-toggle"}),(0,s.jsx)("div",{className:"drawer-content",children:a}),(0,s.jsxs)("div",{className:"drawer-side",children:[(0,s.jsx)("label",{htmlFor:"my-drawer",className:"drawer-overlay"}),(0,s.jsxs)("ul",{className:"menu menu-normal p-4 w-96 bg-base-200 text-base-content",children:[(0,s.jsx)("li",{className:"menu-title mt-5 mb-10",children:(0,s.jsx)("span",{children:"Men\xfa Administrador"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/usuarios",children:"Usuarios"})}),(0,s.jsx)("div",{className:"divider mt-1 mb-1"}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/simuladores",children:"Simuladores ENARM"})}),(0,s.jsx)("div",{className:"divider mt-1 mb-1"}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/mexaquiz",children:"Mexaquiz"})}),(0,s.jsx)("div",{className:"divider mt-1 mb-1"}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/categorias",children:"Categorias"})}),(0,s.jsx)("div",{className:"divider mt-1 mb-1"}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/flashcards",children:"Flashcards"})})]})]})]})}},9111:function(e,a,t){"use strict";t.d(a,{Z:function(){return h}});var s=t(5893),n=t(5675),l=t.n(n);t(7294);var i=t(8953),r={src:"/_next/static/media/avatar.82b5caa2.jpeg",height:400,width:400,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABAEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAAJQLf//EAB8QAAEDAwUAAAAAAAAAAAAAAAECAxIABAYTFCJCUf/aAAgBAQABPwA5C6u+0HAvblJ5T87Rr//EABcRAAMBAAAAAAAAAAAAAAAAAAACEmL/2gAIAQIBAT8AvKn/xAAXEQEAAwAAAAAAAAAAAAAAAAABAAJi/9oACAEDAQE/AGumf//Z",blurWidth:8,blurHeight:8},d=t(9332),o=t(9551),c=t(7717),u=t(8674),h=function(e){let{isBuilder:a,noLeftItem:t}=e,n=(0,d.useRouter)(),h=(0,c.T)(),m=()=>{o.Z.signOut(),h((0,u.w7)()),n.push("/login")};return(0,s.jsxs)("div",{className:"navbar bg-base-100 h-[7vh]",children:[(0,s.jsxs)("div",{className:"navbar-start",children:[!a&&(0,s.jsx)("label",{tabIndex:0,className:"btn btn-ghost btn-circle",htmlFor:"my-drawer",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h7"})})}),a&&!t&&(0,s.jsxs)("div",{className:"flex flex-row items-center gap-3 ml-3",children:[(0,s.jsx)("p",{children:"242"}),(0,s.jsx)("progress",{className:"progress progress-success w-56",value:"242",max:"280"}),(0,s.jsx)("p",{children:"280"})]}),a&&t&&(0,s.jsx)("div",{className:"flex flex-row items-center gap-3 ml-3",children:"Preguntas creadas: 12"})]}),(0,s.jsx)("div",{className:"navbar-center",children:(0,s.jsx)(l(),{src:i.Z,alt:"logo",className:"w-44"})}),(0,s.jsxs)("div",{className:"navbar-end",children:[!a&&(0,s.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,s.jsx)("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:(0,s.jsx)("div",{className:"w-10 rounded-full",children:(0,s.jsx)(l(),{src:r,alt:"avatar",className:"w-32"})})}),(0,s.jsxs)("ul",{tabIndex:0,className:"menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{children:"Ajustes"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{onClick:m,children:"Cerrar sesi\xf3n"})})]})]}),a&&(0,s.jsx)("label",{className:"btn btn-warning mr-3",htmlFor:"my-modal-4",children:"Guardar y salir"})]})]})}},1363:function(e,a,t){"use strict";var s=t(5893),n=t(7294),l=t(2920);let i=e=>{let{fields:a,onClick:t,confirm:i=!0,labels:r=!0,validations:d=!1}=e,o=(0,n.useRef)({});(()=>{let e=o.current;for(let t in a)e[a[t].name]=a[t].defaultValue||"";o.current=e})();let[c,u]=(0,n.useState)(o.current),[h,m]=(0,n.useState)(a),[A,p]=(0,n.useState)(!1);(0,n.useEffect)(()=>{u(o.current),m(a)},[a,o]);let f=e=>{u({...c,[e.target.name]:e.target.value})},x=(e,a)=>{if(e.required){let t=typeof c[e.name];"string"==t||"number"==t?""===c[e.name].toString().trim()?(e.noValid=!0,a=!0,e.noValidMessage="Es requerido"):e.noValid=!1:Object.keys(c[e.name]).length?e.noValid=!1:(a=!0,e.noValid=!0)}return{field:e,invalid:a}},b=(e,a)=>{if(d){let a=d[e.name]||!1;a&&!a.fn(c[e.name])&&(e.noValid=!0,e.noValidMessage=a.message)}return{field:e,invalid:a}},g=()=>{let e=!1,a=h.map(a=>{let t=x(a,e);return a=t.field,e=t.invalid,a=(t=b(a,e)).field,e=t.invalid,a});if(e)l.Am.error("Tienes algunos errores"),m(a);else{let e={};for(let a in c)""!==c[a]&&(e[a]=c[a]);p(!0),t(e,p)}},v=e=>e.readonly?" (No se puede editar)":e.required?"":" (opcional)",j=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e||a},w=(e,a,t)=>{let s=c[a.name]||{};""!=t.target.value.trim()&&(s[e]=t.target.value,u({...c,[a.name]:s}))},N=(e,a)=>{let t="";return e.defaultValue&&(t=e.defaultValue[a]||""),t};return(0,s.jsxs)(s.Fragment,{children:[h.map(e=>{let{name:a}=e,t=!1;e.readonly&&(t=!0);let n=e.type||"text";if(e.date&&(n="date"),e.number&&(n="number"),e.password&&(n="password"),null==c[e.name])return null;let l=(0,s.jsx)("input",{type:n,readOnly:t,min:j(e.min),placeholder:j(e.placeholder)+v(e),name:e.name,defaultValue:e.defaultValue||"",value:c[a],onChange:f,className:"input input-bordered input-primary w-full mb-6 "+e.className},"input"+e.name);return e.options&&(l=(0,s.jsxs)("select",{placeholder:j(e.placeholder)+v(e),name:e.name,defaultValue:e.defaultValue||"",value:c[a],onChange:f,className:"input input-bordered input-primary w-full mb-6 "+e.className,children:[(0,s.jsxs)("option",{children:[e.placeholder," (Elige una opcion)"]}),e.options]},"input"+e.name)),e.textarea&&(l=(0,s.jsx)("textarea",{rows:6,readOnly:t,placeholder:j(e.placeholder)+v(e),name:e.name,defaultValue:e.defaultValue||"",value:c[a],onChange:f,className:"input input-bordered input-primary w-full mb-6 "+e.className},"input"+e.name)),e.answers&&(l=(0,s.jsxs)("div",{className:"border-dashed border-2 border-gray-500 p-5",children:[(0,s.jsx)("input",{style:{marginBottom:12},defaultValue:N(e,"a"),type:"input",placeholder:"Opcion A",onChange:a=>w("a",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,s.jsx)("input",{style:{marginBottom:12},defaultValue:N(e,"b"),type:"input",placeholder:"Opcion B",onChange:a=>w("b",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,s.jsx)("input",{style:{marginBottom:12},defaultValue:N(e,"c"),type:"input",placeholder:"Opcion C",onChange:a=>w("c",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,s.jsx)("input",{style:{marginBottom:12},defaultValue:N(e,"d"),type:"input",placeholder:"Opcion D",onChange:a=>w("d",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,s.jsx)("input",{style:{marginBottom:12},defaultValue:N(e,"e"),type:"input",placeholder:"Opcion E",onChange:a=>w("e",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,s.jsx)("input",{style:{marginBottom:12},defaultValue:N(e,"f"),type:"input",placeholder:"Opcion F",onChange:a=>w("f",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name)]})),(0,s.jsxs)(s.Fragment,{children:[r&&(0,s.jsx)("span",{children:e.placeholder}),l,e.noValid&&(0,s.jsx)("small",{style:{color:"red"},children:e.noValidMessage},"small"+e.name)]})}),(0,s.jsx)("button",{className:"btn btn-primary btn-block",onClick:g,children:A?"Cargando...":"Guardar"})]})};a.Z=i},1620:function(e,a,t){"use strict";t.d(a,{a:function(){return r}});var s=t(723),n=t(8010);class l extends s.Z{constructor(e){super("questions",e)}}class i extends n.Z{constructor(){super("questions",l)}}let r=new i;a.Z=l},723:function(e,a,t){"use strict";var s=t(6100),n=t(6983);a.Z=class{constructor(e,a,t={}){this.save=async()=>{if(void 0!=this._save)try{await this._save()}catch(e){}return(0,s.ET)((0,s.hJ)(n.ZP,this.table),{...this.data,created_at:Date.now(),updated_at:Date.now(),deleted_at:null}).then(e=>{this.old=e,this.data.id=e.id})},this.update=async()=>{if(void 0!=this._update)try{await this._update()}catch(e){}return(0,s.r7)((0,s.JU)(n.ZP,this.table,this.data.id),{...this.data,updated_at:Date.now()})},this.delete=async()=>{if(void 0!=this._delete)try{await this._delete()}catch(e){}this.data.deleted_at=Date.now(),this.update()},this.table=e,this.data=a,this.old=a,t._save&&(this._save=t._save),t._update&&(this._update=t._update),t._delete&&(this._delete=t._delete)}}},8010:function(e,a,t){"use strict";var s=t(6100),n=t(6983);(0,s.IO)((0,s.hJ)(n.ZP,"cities"),(0,s.ar)("capital","==",!0)),a.Z=class{constructor(e,a){var t=this;this.find=e=>(0,s.QT)((0,s.JU)(n.ZP,this.table,e)).then(e=>{let a=e.data();if(a&&null==(a={id:e.id,...e.data()}).deleted_at)return new this.model(a);throw"No se encontro el usuario"}),this.all=()=>(0,s.PL)((0,s.hJ)(n.ZP,this.table)).then(e=>e.docs.filter(this.filterDoc).map(this.mapDoc)),this.where=(e,a,t)=>{let l=(0,s.hJ)(n.ZP,this.table),i=(0,s.IO)(l,(0,s.ar)(e,a,t));return(0,s.PL)(i).then(e=>e.docs.filter(this.filterDoc).map(this.mapDoc))},this.whereRaw=e=>{let a=(0,s.hJ)(n.ZP,this.table),t=(0,s.IO)(a,...e);return(0,s.PL)(t).then(e=>e.docs.filter(this.filterDoc).map(this.mapDoc))},this.subscribe=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a||(a=()=>{}),(0,s.cf)((0,s.hJ)(n.ZP,t.table),a=>{e(a.docs.filter(t.filterDoc).map(t.mapDoc))},e=>{a(Error),console.log(e)})},this.filterDoc=e=>null==e.data().deleted_at,this.mapDoc=e=>new this.model({...e.data(),id:e.id}),this.toArray=e=>e.map(e=>e.data),this.first=e=>e[0]||!1,this.table=e,this.model=a}}},2714:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return A}});var s=t(5893),n=t(7736),l=t.n(n),i=t(7294),r=t(3111),d=t(6395),o=t(9111),c=t(1620),u=t(1363),h=t(2920),m=t(1163);function A(){let e=(0,m.useRouter)(),a=e.query.question_id,[t,n]=(0,i.useState)([]),[A,p]=(0,i.useState)([]),[f,x]=(0,i.useState)([]);(0,i.useEffect)(()=>{a&&c.a.find(a).then(x)},[a]),(0,i.useEffect)(()=>{var e;(null===(e=f.data)||void 0===e?void 0:e.id)&&c.a.where("quiz_id","==",f.data.quiz_id).then(c.a.toArray).then(p)},[f]),(0,i.useEffect)(()=>{var e,a,t,l,i,r,d;(null===(e=f.data)||void 0===e?void 0:e.id)&&n([{name:"name",placeholder:"Pregunta",required:!0,defaultValue:null===(a=f.data)||void 0===a?void 0:a.name},{name:"hint",placeholder:"pista",defaultValue:null===(t=f.data)||void 0===t?void 0:t.hint},{name:"optional",placeholder:"Opcional",options:[(0,s.jsx)("option",{value:1,children:"Si"},0),(0,s.jsx)("option",{value:0,children:"No"},1)],required:!0,defaultValue:parseInt(null===(l=f.data)||void 0===l?void 0:l.optional)},{name:"question_id",placeholder:"Pregunta padre",options:A.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},0)),defaultValue:null===(i=f.data)||void 0===i?void 0:i.question_id},{name:"options",placeholder:"Opciones",answers:!0,required:!0,defaultValue:null===(r=f.data)||void 0===r?void 0:r.options},{name:"correct",placeholder:"Respuesta correcta",required:!0,defaultValue:null===(d=f.data)||void 0===d?void 0:d.correct}])},[A]);let b=(a,t)=>{f.data={...f.data,...a},f.update().then(()=>{t(!1),h.Am.success("Usuario creado correctamente"),e.back()})};return(0,s.jsx)("main",{className:"bg-base-200 h-screen w-screen ".concat(l().className),children:(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(o.Z,{}),(0,s.jsxs)(r.Z,{children:[(0,s.jsx)("h1",{children:"Nuevo usuario "}),(0,s.jsx)(u.Z,{fields:t,onClick:b})]})]})})}},7736:function(e){e.exports={style:{fontFamily:"'__Inter_0ec1f4', '__Inter_Fallback_0ec1f4'",fontStyle:"normal"},className:"__className_0ec1f4"}},1163:function(e,a,t){e.exports=t(6885)}},function(e){e.O(0,[675,664,774,888,179],function(){return e(e.s=6207)}),_N_E=e.O()}]);