(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{9757:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login/LoginCard",function(){return n(7804)}])},8953:function(e,a){"use strict";a.Z={src:"/_next/static/media/logo.a3fc0e5d.png",height:140,width:858,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAYAAADjAO9DAAAAKklEQVR4nAVAsQ0AIAiDOHiTFzl5hFcrobTE9z1LIBWYSr6KcgOHZYkf1oIyF0trNUROAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:1}},1363:function(e,a,n){"use strict";var l=n(5893),t=n(7294),r=n(2920);let i=e=>{let{fields:a,onClick:n,confirm:i=!0,labels:s=!0,validations:u=!1}=e,o=(0,t.useRef)({});(()=>{let e=o.current;for(let n in a)e[a[n].name]=a[n].defaultValue||"";o.current=e})();let[d,p]=(0,t.useState)(o.current),[c,m]=(0,t.useState)(a),[f,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>{p(o.current),m(a)},[a,o]);let g=e=>{p({...d,[e.target.name]:e.target.value})},b=(e,a)=>{if(e.required){let n=typeof d[e.name];"string"==n||"number"==n?""===d[e.name].toString().trim()?(e.noValid=!0,a=!0,e.noValidMessage="Es requerido"):e.noValid=!1:Object.keys(d[e.name]).length?e.noValid=!1:(a=!0,e.noValid=!0)}return{field:e,invalid:a}},y=(e,a)=>{if(u){let a=u[e.name]||!1;a&&!a.fn(d[e.name])&&(e.noValid=!0,e.noValidMessage=a.message)}return{field:e,invalid:a}},A=()=>{let e=!1,a=c.map(a=>{let n=b(a,e);return a=n.field,e=n.invalid,a=(n=y(a,e)).field,e=n.invalid,a});if(e)r.Am.error("Tienes algunos errores"),m(a);else{let e={};for(let a in d)""!==d[a]&&(e[a]=d[a]);h(!0),n(e,h)}},N=e=>e.readonly?" (No se puede editar)":e.required?"":" (opcional)",x=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e||a},w=(e,a,n)=>{let l=d[a.name]||{};""!=n.target.value.trim()&&(l[e]=n.target.value,p({...d,[a.name]:l}))},V=(e,a)=>{let n="";return e.defaultValue&&(n=e.defaultValue[a]||""),n};return(0,l.jsxs)(l.Fragment,{children:[c.map(e=>{let{name:a}=e,n=!1;e.readonly&&(n=!0);let t=e.type||"text";if(e.date&&(t="date"),e.number&&(t="number"),e.password&&(t="password"),null==d[e.name])return null;let r=(0,l.jsx)("input",{type:t,readOnly:n,min:x(e.min),placeholder:x(e.placeholder)+N(e),name:e.name,defaultValue:e.defaultValue||"",value:d[a],onChange:g,className:"input input-bordered input-primary w-full mb-6 "+e.className},"input"+e.name);return e.options&&(r=(0,l.jsxs)("select",{placeholder:x(e.placeholder)+N(e),name:e.name,defaultValue:e.defaultValue||"",value:d[a],onChange:g,className:"input input-bordered input-primary w-full mb-6 "+e.className,children:[(0,l.jsxs)("option",{children:[e.placeholder," (Elige una opcion)"]}),e.options]},"input"+e.name)),e.textarea&&(r=(0,l.jsx)("textarea",{rows:6,readOnly:n,placeholder:x(e.placeholder)+N(e),name:e.name,defaultValue:e.defaultValue||"",value:d[a],onChange:g,className:"input input-bordered input-primary w-full mb-6 "+e.className},"input"+e.name)),e.answers&&(r=(0,l.jsxs)("div",{className:"border-dashed border-2 border-gray-500 p-5",children:[(0,l.jsx)("input",{style:{marginBottom:12},defaultValue:V(e,"a"),type:"input",placeholder:"Opcion A",onChange:a=>w("a",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,l.jsx)("input",{style:{marginBottom:12},defaultValue:V(e,"b"),type:"input",placeholder:"Opcion B",onChange:a=>w("b",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,l.jsx)("input",{style:{marginBottom:12},defaultValue:V(e,"c"),type:"input",placeholder:"Opcion C",onChange:a=>w("c",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,l.jsx)("input",{style:{marginBottom:12},defaultValue:V(e,"d"),type:"input",placeholder:"Opcion D",onChange:a=>w("d",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,l.jsx)("input",{style:{marginBottom:12},defaultValue:V(e,"e"),type:"input",placeholder:"Opcion E",onChange:a=>w("e",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name),(0,l.jsx)("input",{style:{marginBottom:12},defaultValue:V(e,"f"),type:"input",placeholder:"Opcion F",onChange:a=>w("f",e,a),className:"input input-bordered input-primary w-full  mb-6 "+e.className},"input-opcion-1-"+e.name)]})),(0,l.jsxs)(l.Fragment,{children:[s&&(0,l.jsx)("span",{children:e.placeholder}),r,e.noValid&&(0,l.jsx)("small",{style:{color:"red"},children:e.noValidMessage},"small"+e.name)]})}),(0,l.jsx)("button",{className:"btn btn-primary btn-block",onClick:A,children:f?"Cargando...":"Guardar"})]})};a.Z=i},7804:function(e,a,n){"use strict";n.r(a);var l=n(5893);n(7294);var t=n(5675),r=n.n(t),i=n(9332),s=n(8953),u=n(9551),o=n(7717),d=n(8674),p=n(2920),c=n(1363);a.default=function(){let e=(0,i.useRouter)(),a=(0,o.T)();async function n(n,l){console.log(n);try{l(!0);let t=await u.Z.login(n.email,n.password);console.log(t),//! check if user is admin
a((0,d.cn)({token:t.user.accessToken,email:t.user.email,id:t.user.id})),e.push("/simuladores"),l(!1)}catch(e){console.log(e),l(!1),"auth/user-not-found"==e.code&&p.Am.error("Usuario no encontrado")}}return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"card w-96 bg-base-100 shadow-xl",children:[(0,l.jsx)("figure",{className:"px-10 pt-10",children:(0,l.jsx)(r(),{src:s.Z,alt:"logo",className:"rounded-xl w-[75%]"})}),(0,l.jsxs)("div",{className:"card-body items-center text-center",children:[(0,l.jsx)("h2",{className:"card-title mb-6",children:"Admin Login"}),(0,l.jsx)(c.Z,{labels:!1,fields:[{name:"email",placeholder:"Correo",required:!0},{name:"password",placeholder:"Password",type:"password",required:!0}],onClick:n})]})]})})}}},function(e){e.O(0,[675,774,888,179],function(){return e(e.s=9757)}),_N_E=e.O()}]);